# PKI Certificate Architecture

## Complete Certificate Chain Hierarchy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ROOT CERTIFICATE AUTHORITY                                â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚                      LearningMyWay Root CA                                  â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Subject: CN=LearningMyWay Root CA, OU=IT Security, O=LearningMyWay,       â”‚   â”‚
â”‚  â”‚           L=San Francisco, ST=California, C=US                              â”‚   â”‚
â”‚  â”‚  Issuer: Self-Signed                                                        â”‚   â”‚
â”‚  â”‚  Type: Root CA Certificate                                                  â”‚   â”‚
â”‚  â”‚  Key: RSA 4096-bit                                                          â”‚   â”‚
â”‚  â”‚  Signature: SHA-256                                                         â”‚   â”‚
â”‚  â”‚  Serial: 0x1000                                                             â”‚   â”‚
â”‚  â”‚  Valid: Feb 13, 2026 â†’ Feb 13, 2036 (10 years)                             â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Key Usage:                                                                 â”‚   â”‚
â”‚  â”‚    â€¢ Certificate Sign âœ“                                                     â”‚   â”‚
â”‚  â”‚    â€¢ CRL Sign âœ“                                                             â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Basic Constraints:                                                         â”‚   â”‚
â”‚  â”‚    â€¢ CA: TRUE                                                               â”‚   â”‚
â”‚  â”‚    â€¢ Path Length: Unlimited                                                 â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Location: /etc/pki/CA/certs/ca.cert.pem                                   â”‚   â”‚
â”‚  â”‚  Private Key: /etc/pki/CA/private/ca.key.pem (ENCRYPTED)                   â”‚   â”‚
â”‚  â”‚  Passphrase: RootCA@LearningMyWay2026!                                     â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Purpose: Trust Anchor for Organization                                    â”‚   â”‚
â”‚  â”‚  Distribution: Installed on all client machines                            â”‚   â”‚
â”‚  â”‚  Status: âœ… Trusted by clients                                              â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                             â”‚
â”‚                                      â”‚ Signs                                       â”‚
â”‚                                      â”‚ (RSA 4096-bit signature)                    â”‚
â”‚                                      â–¼                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        INTERMEDIATE CERTIFICATE AUTHORITY                           â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚                  LearningMyWay Intermediate CA                              â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Subject: CN=LearningMyWay Intermediate CA, OU=IT Security,                â”‚   â”‚
â”‚  â”‚           O=LearningMyWay, L=San Francisco, ST=California, C=US            â”‚   â”‚
â”‚  â”‚  Issuer: CN=LearningMyWay Root CA                                          â”‚   â”‚
â”‚  â”‚  Type: Intermediate CA Certificate                                         â”‚   â”‚
â”‚  â”‚  Key: RSA 4096-bit                                                          â”‚   â”‚
â”‚  â”‚  Signature: SHA-256 (signed by Root CA)                                    â”‚   â”‚
â”‚  â”‚  Serial: 0x1000                                                             â”‚   â”‚
â”‚  â”‚  Valid: Feb 13, 2026 â†’ Feb 12, 2031 (5 years)                              â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Key Usage:                                                                 â”‚   â”‚
â”‚  â”‚    â€¢ Certificate Sign âœ“                                                     â”‚   â”‚
â”‚  â”‚    â€¢ CRL Sign âœ“                                                             â”‚   â”‚
â”‚  â”‚    â€¢ Digital Signature âœ“                                                    â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Basic Constraints:                                                         â”‚   â”‚
â”‚  â”‚    â€¢ CA: TRUE                                                               â”‚   â”‚
â”‚  â”‚    â€¢ Path Length: 0 (cannot issue sub-CAs)                                 â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Authority Key Identifier: 67:CF:1F:67:83:EC:81:81:B6:F4:19:4B:E0:B7...   â”‚   â”‚
â”‚  â”‚  Subject Key Identifier: 3B:F2:C9:33:79:DF:84:BD:19:06:E3:B6:45:84...     â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Location: /etc/pki/CA/intermediate/certs/intermediate.cert.pem            â”‚   â”‚
â”‚  â”‚  Private Key: /etc/pki/CA/intermediate/private/intermediate.key.pem        â”‚   â”‚
â”‚  â”‚  Passphrase: IntermediateCA@LearningMyWay2026!                             â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Purpose: Issue Server Certificates                                        â”‚   â”‚
â”‚  â”‚  Status: âœ… Valid and operational                                           â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                      â”‚                                             â”‚
â”‚                                      â”‚ Signs                                       â”‚
â”‚                                      â”‚ (RSA 4096-bit signature)                    â”‚
â”‚                                      â–¼                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SERVER CERTIFICATE                                     â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚                  jenkins.np.learningmyway.space                             â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Subject: CN=jenkins.np.learningmyway.space, OU=IT Operations,             â”‚   â”‚
â”‚  â”‚           O=LearningMyWay, L=San Francisco, ST=California, C=US            â”‚   â”‚
â”‚  â”‚  Issuer: CN=LearningMyWay Intermediate CA                                  â”‚   â”‚
â”‚  â”‚  Type: End-Entity Server Certificate                                       â”‚   â”‚
â”‚  â”‚  Key: RSA 2048-bit                                                          â”‚   â”‚
â”‚  â”‚  Signature: SHA-256 (signed by Intermediate CA)                            â”‚   â”‚
â”‚  â”‚  Serial: 0x1000                                                             â”‚   â”‚
â”‚  â”‚  Valid: Feb 13, 2026 â†’ Feb 13, 2027 (1 year)                               â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Subject Alternative Names (SAN):                                          â”‚   â”‚
â”‚  â”‚    â€¢ DNS: jenkins.np.learningmyway.space                                   â”‚   â”‚
â”‚  â”‚    â€¢ IP: 10.10.10.100                                                      â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Key Usage:                                                                 â”‚   â”‚
â”‚  â”‚    â€¢ Digital Signature âœ“                                                    â”‚   â”‚
â”‚  â”‚    â€¢ Key Encipherment âœ“                                                     â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Extended Key Usage:                                                        â”‚   â”‚
â”‚  â”‚    â€¢ TLS Web Server Authentication âœ“                                       â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Basic Constraints:                                                         â”‚   â”‚
â”‚  â”‚    â€¢ CA: FALSE                                                              â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Authority Key Identifier: 3B:F2:C9:33:79:DF:84:BD:19:06:E3:B6:45:84...   â”‚   â”‚
â”‚  â”‚  Subject Key Identifier: 9A:DE:06:CA:5A:5E:14:62:21:40:8D:08:68:8A...     â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Location: /etc/jenkins/certs/jenkins.cert.pem                             â”‚   â”‚
â”‚  â”‚  Private Key: /etc/jenkins/certs/jenkins.key.pem (UNENCRYPTED)             â”‚   â”‚
â”‚  â”‚  Chain File: /etc/jenkins/certs/jenkins-chain.cert.pem                     â”‚   â”‚
â”‚  â”‚  PKCS12: /etc/jenkins/certs/jenkins.p12 (Password: changeit)               â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â”‚  Purpose: Jenkins HTTPS Endpoint                                           â”‚   â”‚
â”‚  â”‚  Used By: Nginx for SSL/TLS termination                                    â”‚   â”‚
â”‚  â”‚  Status: âœ… Valid and in use                                                â”‚   â”‚
â”‚  â”‚                                                                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Certificate Chain File Structure

```
/etc/jenkins/certs/jenkins-chain.cert.pem
â”‚
â”œâ”€ [Certificate 1] jenkins.np.learningmyway.space
â”‚  â””â”€ Signed by: LearningMyWay Intermediate CA
â”‚
â”œâ”€ [Certificate 2] LearningMyWay Intermediate CA
â”‚  â””â”€ Signed by: LearningMyWay Root CA
â”‚
â””â”€ [Certificate 3] LearningMyWay Root CA
   â””â”€ Self-Signed (Trust Anchor)
```

## Certificate Validation Chain

```
Browser/Client
    â”‚
    â”‚ 1. Receives server certificate
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate Server Certificate        â”‚
â”‚  â€¢ Check signature (Intermediate CA)â”‚
â”‚  â€¢ Verify domain name matches       â”‚
â”‚  â€¢ Check validity dates              â”‚
â”‚  â€¢ Verify key usage                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ âœ“ Valid
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate Intermediate CA Cert      â”‚
â”‚  â€¢ Check signature (Root CA)        â”‚
â”‚  â€¢ Verify CA constraints             â”‚
â”‚  â€¢ Check validity dates              â”‚
â”‚  â€¢ Verify key usage                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ âœ“ Valid
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validate Root CA Certificate       â”‚
â”‚  â€¢ Check if in Trusted Root Store   â”‚
â”‚  â€¢ Verify self-signature             â”‚
â”‚  â€¢ Check validity dates              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ âœ“ Trusted
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Certificate Chain Valid âœ…          â”‚
â”‚  â€¢ Browser shows "Secure" ğŸ”’        â”‚
â”‚  â€¢ TLS connection established        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Certificate Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Root CA     â”‚â”€â”€â”€â”€â–¶â”‚ Intermediate â”‚â”€â”€â”€â”€â–¶â”‚   Server     â”‚
â”‚  10 years    â”‚     â”‚   CA 5 years â”‚     â”‚   1 year     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                     â”‚                     â”‚
      â”‚                     â”‚                     â”‚
   Rarely              Every 5 years         Annually
   renewed             (2031)                (2027)
   (2036)                  â”‚                     â”‚
                           â”‚                     â”‚
                           â–¼                     â–¼
                    Re-sign all            Renew with
                    server certs           same or new key
```
